# infraEnv.j2 and this file should generally be kept in sync
# This version exists to present an infraenv that is used in a late binding scenario.
apiVersion: agent-install.openshift.io/v1beta1
kind: InfraEnv
metadata:
  annotations:
    infraenv.agent-install.openshift.io/ironic-agent-image-override: '{{ ironic_image }}'
  name: '{{ infraenv_name }}'
  namespace: '{{ spoke_namespace }}'
spec:
  pullSecretRef:
    name: '{{ pull_secret_name }}'
  sshAuthorizedKey: '{{ ssh_public_key }}'
  # enable serial console when booting on the disccovery ISO
  # the console output will be logged by libvirt in order to ease debugging
  kernelArguments:
    - operation: append
      value: console=ttyS0
